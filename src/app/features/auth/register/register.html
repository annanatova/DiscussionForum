<form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <fieldset class="register-fieldset">
    <h2 class="register-title">Registration</h2>

    <!-- username -->
    <section class="form-group">
      <label for="username" class="form-label">
        <i class="fas fa-user form-icon"></i>
        <input 
          [class.input-error]="isUsernameValid" 
          type="text" 
          id="username" 
          placeholder="Johny"
          formControlName="username"
          class="form-input"
        >
      </label>
      @if (isUsernameValid) {
      <small class="error-message">
        {{ usernameErrorMessage }}
      </small>
      }
    </section>

    <!-- email -->
    <section class="form-group">
      <label for="email" class="form-label">
        <i class="fas fa-envelope form-icon"></i>
        <input 
          [class.input-error]="isEmailValid" 
          type="email" 
          id="email" 
          placeholder="john.doe@gmail.com"
          formControlName="email"
          class="form-input"
        >
      </label>
      @if (isEmailValid) {
      <small class="error-message">
        {{ emailErrorMessage }}
      </small>
      }
    </section>

    <!-- telephone -->
    <section class="form-group tel-group">
      <label for="tel" class="form-label">
        <i class="fas fa-phone form-icon"></i>
        <select id="select-tel" class="form-select">
          <option value="00359">+359</option>
        </select>
        <input 
          type="text" 
          id="tel" 
          placeholder="885 888 888" 
          formControlName="phone"
          class="form-input tel-input"
        >
      </label>
    </section>

    <section formGroupName="passwords" class="passwords-group">

      <!-- password -->
      <section class="form-group">
        <label for="password" class="form-label">
          <i class="fas fa-lock form-icon"></i>
          <input 
            [class.input-error]="isPasswordsValid" 
            type="password" 
            id="password" 
            placeholder="******"
            formControlName="password"
            class="form-input"
          >
        </label>
        @if (isPasswordsValid) {
        <small class="error-message">
          {{ passwordErrorMessage }}
        </small>
        }
      </section>

      <!-- rePassword -->
      <section class="form-group">
        <label for="rePassword" class="form-label">
          <i class="fas fa-redo form-icon"></i>
          <input 
            [class.input-error]="isPasswordsValid" 
            type="password" 
            id="rePassword" 
            placeholder="******"
            formControlName="rePassword"
            class="form-input"
          >
        </label>
        @if (isPasswordsValid) {
        <small class="error-message">
          {{ rePasswordErrorMessage }}
        </small>
        }
      </section>

    </section>

    <button [disabled]="registerForm.invalid" class="register-button">Create Account</button>

    <p class="text-center">
      You already have an account?
      <a routerLink="/login" class="text-link">Log In.</a>
    </p>
  </fieldset>
</form>